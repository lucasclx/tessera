spring.application.name=tessera

# !!IMPORTANTE!! Remover ou comentar a linha abaixo que causa o erro
# spring.profiles.active=dev

# Server Port
server.port=8080

# MySQL Database
spring.datasource.url=jdbc:mysql://localhost:3306/tessera_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# JWT Properties - Usar variável de ambiente em vez de valor fixo
jwt.secret=${JWT_SECRET:e8bbc656b6d4bca2b7e9f292d18082a0af114bdf2b0f8e98f9aefffad9f7e60832eb3f0859195dd40f3c51e1611c8790}
# 24 horas em milissegundos (1 dia * 24 horas * 60 min * 60 seg * 1000 ms)
jwt.expiration=86400000
# Token de atualização (7 dias)
jwt.refresh.expiration=604800000

# Logging
logging.level.org.springframework.security=INFO
logging.level.com.backend.tessera=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Server compression
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain

# Pretty JSON responses
spring.jackson.serialization.indent-output=true

# URL base da aplicação cliente (frontend)
app.client.base-url=http://localhost:4200

# Duração dos tokens em milissegundos
# Token de verificação de email (ex: 24 horas = 24 * 60 * 60 * 1000 = 86400000)
app.token.email.verification.duration=86400000

# Token de redefinição de senha (ex: 1 hora = 60 * 60 * 1000 = 3600000)
app.token.password.reset.duration=3600000

# Configuração para processamento assíncrono
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=25

# Parâmetro para controlar inicialização de dados (útil para testes)
app.init.data=true

# Actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when_authorized
management.health.mail.enabled=true
management.health.db.enabled=true
management.info.env.enabled=true
# Continuação das configurações do Actuator
info.app.name=Sistema Tessera
info.app.description=Sistema de Gestão Acadêmica
info.app.version=1.0.0

# Configurações de Email para ambiente de desenvolvimento
# Desativando a verificação de saúde do email para desenvolvimento
management.health.mail.enabled=false